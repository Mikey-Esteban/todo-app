(()=>{"use strict";const t=t=>{const{id:e,text:o}=t,n=document.createElement("DIV");return n.classList.add("form-text"),n.id=e,n.textContent=o,n},e=t=>{const{id:e,type:o,help:n}=t,a=document.createElement("INPUT");return"range"==t.type?a.classList.add("form-range"):a.classList.add("form-control"),a.id=e,a.setAttribute("type",o),a.setAttribute("aria-describedby",n),t.min&&(a.setAttribute("min",t.min),a.setAttribute("max",t.max)),a},o=t=>{const{value:e,text:o}=t,n=document.createElement("LABEL");return n.classList.add("form-label"),n.setAttribute("for",e),n.textContent=o,n},n=({id:t})=>{const e=document.createElement("TEXTAREA");return e.classList.add("form-control"),e.setAttribute("rows","3"),e.id=t,e},a=[{label:{value:"title",text:"Title"},input:{id:"title",type:"text",help:"titleHelp"},help:{id:"titleHelp",text:"here to help"}},{label:{value:"description",text:"Description"},input:{id:"description",type:"text",help:"descriptionHelp"},help:{id:"descriptionHelp",text:"here to help"}},{label:{value:"dueDate",text:"Due Date"},input:{id:"dueDate",type:"date",help:"dueDateHelp"},help:{id:"dueDateHelp",text:"here to help"}},{label:{value:"priority",text:"Priority"},input:{id:"priority",type:"range",min:"1",max:"5",help:"priorityHelp"},help:{id:"priorityHelp",text:"here to help"}},{label:{value:"notes",text:"Notes"},textarea:{id:"notes",help:"notesHelp"},help:{id:"notesHelp",text:"here to help"}}],r=()=>{const r=document.createElement("DIV");r.classList.add("modal","fade"),r.id="formModal",r.setAttribute("tabindex","-1"),r.setAttribute("aria-labelledby","formModalLabel"),r.setAttribute("aria-hidden","true");const d=document.createElement("DIV");d.classList.add("modal-dialog");const s=document.createElement("DIV");s.classList.add("modal-content");const i=document.createElement("DIV");i.classList.add("modal-header");const c=document.createElement("H5");c.classList.add("modal-title"),c.id="formModalLabel",c.textContent="Add A New Todo!";const l=document.createElement("BUTTON");l.classList.add("btn-close"),l.setAttribute("type","button"),l.setAttribute("data-dismiss","modal"),l.setAttribute("aria-label","Close"),i.append(c,l);const u=document.createElement("DIV");return u.classList.add("modal-body"),u.append((()=>{const r=document.createElement("FORM");r.id="todoForm";for(let d of a){const a=document.createElement("DIV");a.classList.add("mb-3");const s=o(d.label);a.append(s),d.input&&a.append(e(d.input)),d.textarea&&a.append(n(d.textarea));const i=t(d.help);a.append(i),r.append(a)}const d=document.createElement("BUTTON");return d.classList.add("btn","btn-primary"),d.setAttribute("type","submit"),d.textContent="Create",r.append(d),r})()),s.append(i,u),d.append(s),r.append(d),r},d=t=>{const e=document.querySelector(".accordion-body").querySelector(".list-group"),o=document.createElement("LI");o.classList.add("list-group-item","d-flex","justify-content-between","align-items-center"),o.id=t.id;const n=document.createElement("INPUT");n.classList.add("form-check-input","my-0"),n.setAttribute("type","checkbox"),n.setAttribute("value",""),n.id="completed";const a=document.createElement("H6");let r;r="4"==t.priority||"5"==t.priority?"text-danger":"3"==t.priority?"text-warning":"text-success",a.classList.add("my-0",r,"text-capitalize"),a.textContent=t.title;const d=document.createElement("P");d.classList.add("fs-6","my-0","text-black-50","fw-light"),d.textContent=(t=>{const e=t.split("-");return`${e[1]}.${e[2]}.${e[0].substring(2)}`})(t.dueDate);const s=document.createElement("A");s.classList.add("btn","btn-sm","btn-outline-dark"),s.setAttribute("tabindex","0"),s.setAttribute("role","button"),s.setAttribute("data-toggle","popover"),s.setAttribute("data-trigger","focus"),s.setAttribute("title",t.description),s.setAttribute("data-content",t.notes),s.textContent="notes";const i=document.createElement("A");i.classList.add("btn","trash");const c=document.createElement("IMG");c.src="./assets/img/trash.svg",c.height="16",c.weight="16",i.append(c),o.append(n,a,d,s,i),e.append(o)},s=(t,e)=>{document.getElementById(`${t.id}`).querySelector("INPUT").addEventListener("click",(t=>{(t=>{const e=t.target.parentNode.querySelector("h6");t.target.checked?e.classList.add("fw-lighter","text-muted","text-decoration-line-through"):e.classList.contains("fw-lighter")&&e.classList.remove("fw-lighter","text-muted","text-decoration-line-through")})(t);const o=t.target.parentNode.id,n=e.find((t=>t.id==o));0==n.completed?n.completed=!0:n.completed=!1}))},i=(t,e,o)=>{document.getElementById(`${t.id}`).querySelector(".trash").addEventListener("click",(t=>{let n;n="A"==t.target.tagName?t.target.parentNode.id:t.target.parentNode.parentNode.id,(t=>{"A"==t.target.tagName?t.target.parentNode.remove():t.target.parentNode.parentNode.remove()})(t);const a=e.filter((t=>t.id!==n));o.setItem("todos",JSON.stringify(a))}))};var c="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),l=new Uint8Array(16);function u(){if(!c)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return c(l)}const p=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,m=function(t){return"string"==typeof t&&p.test(t)};for(var b=[],g=0;g<256;++g)b.push((g+256).toString(16).substr(1));const y=function(t,e,o){var n=(t=t||{}).random||(t.rng||u)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){o=o||0;for(var a=0;a<16;++a)e[o+a]=n[a];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=(b[t[e+0]]+b[t[e+1]]+b[t[e+2]]+b[t[e+3]]+"-"+b[t[e+4]]+b[t[e+5]]+"-"+b[t[e+6]]+b[t[e+7]]+"-"+b[t[e+8]]+b[t[e+9]]+"-"+b[t[e+10]]+b[t[e+11]]+b[t[e+12]]+b[t[e+13]]+b[t[e+14]]+b[t[e+15]]).toLowerCase();if(!m(o))throw TypeError("Stringified UUID is invalid");return o}(n)};let f=window.localStorage,h=JSON.parse(f.getItem("todos"))||[];const L=t=>{t.preventDefault();const e=(t=>{const e=document.querySelector(`#${t.target.id}`),o={},n=e.elements.title,a=e.elements.description,r=e.elements.dueDate,d=e.elements.priority,s=e.elements.notes;return o.title=n.value,o.description=a.value,o.dueDate=r.value,o.priority=d.value,o.notes=s.value,o.completed=!1,n.value="",a.value="",r.value="",d.value="",s.value="",document.querySelector(".btn-close").click(),o})(t);e.id=y();const o=(t=>{const{id:e,title:o,description:n,dueDate:a,priority:r,notes:d,completed:s}=t;return{id:e,title:o,description:n,dueDate:a,priority:r,notes:d,completed:s}})(e);h.push(o),f.setItem("todos",JSON.stringify(oldTodos)),console.log(h),d(o),s(o,h),i(o,h,f),[].slice.call(document.querySelectorAll('[data-toggle="popover"]')).map((function(t){return new bootstrap.Popover(t)})),new bootstrap.Popover(document.querySelector(".popover-dismiss"),{trigger:"focus"})};let x=window.localStorage,E=JSON.parse(x.getItem("todos"))||[];window.addEventListener("DOMContentLoaded",(t=>{const e=document.querySelector("#content"),o=(()=>{const t=document.createElement("DIV");t.classList.add("container","my-5");const e=document.createElement("BUTTON");return e.classList.add("btn","btn-primary"),e.setAttribute("type","button"),e.setAttribute("data-toggle","modal"),e.setAttribute("data-target","#formModal"),e.textContent="Add Todo",t.append(e),t})(),n=r(),a=(()=>{const t=document.createElement("DIV");t.classList.add("container");const e=document.createElement("DIV");e.classList.add("row");const o=document.createElement("DIV");o.classList.add("col-lg-6"),t.append(e),e.append(o);const n=document.createElement("DIV");n.classList.add("accordion","accordion-flush"),n.id="accordionExample";const a=document.createElement("DIV");a.classList.add("accordion-item");const r=document.createElement("H2");r.classList.add("accordion-header"),r.id="headingOne";const d=document.createElement("BUTTON");d.classList.add("accordion-button"),d.setAttribute("type","button"),d.setAttribute("data-toggle","collapse"),d.setAttribute("data-target","#collapseOne"),d.setAttribute("aria-expanded","true"),d.setAttribute("aria-controls","collapseOne"),d.textContent="First Todo",r.append(d);const s=document.createElement("DIV");s.classList.add("accordion-collapse","collapse","show"),s.id="collapseOne",s.setAttribute("aria-labelledby","headingOne"),s.setAttribute("data-parent","#accordionExample");const i=document.createElement("DIV");i.classList.add("accordion-body");const c=document.createElement("UL");return c.classList.add("list-group"),i.append(c),s.append(i),a.append(r,s),n.append(a),o.append(n),t})();if(e.append(o,n,a),E)for(let t of E)console.log(t),d(t),s(t,E),i(t,E,x);e.querySelector("#todoForm").addEventListener("submit",L)}))})();